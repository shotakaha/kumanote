==================================================
一般座標変換
==================================================


一般座標変換とローレンツ変換
==================================================

一般座標変換を数式で表すと以下のようになる。

.. math::
   :nowrap:

   \begin{align}
   x^{\mu} \longrightarrow
   \tilde{x}^{\mu}
   & = f^{\mu} (x^{0}, x^{1}, x^{2}, x^{3})\\
   & = \tilde{x}^{\mu} (x^{0}, x^{1}, x^{2}, x^{3})\\
   & = \tilde{x}^{\mu} (x^{\nu})
   \end{align}


これまで通り :math:`x^{\mu} = (x^{0}, x^{1}, x^{2}, x^{3})` の４成分を表していて、一般座標変換した後の座標も同じように :math:`\tilde{x}^{\mu} = (\tilde{x}^{0}, \tilde{x}^{1}, \tilde{x}^{2}, \tilde{x}^{3})` の４成分ある。
変換後の座標の成分は、元の座標の関数になっているところが、ローレンツ変換と大きく違う。

.. math::
   :nowrap:

   \begin{align}
   x^{0} \longrightarrow \tilde{x}^{0} & = f^{0}(x^{0}, x^{1}, x^{2}, x^{3}) = \tilde{x}^{0}(x^{0}, x^{1}, x^{2}, x^{3})\\
   x^{1} \longrightarrow \tilde{x}^{1} & = f^{1}(x^{0}, x^{1}, x^{2}, x^{3}) = \tilde{x}^{1}(x^{0}, x^{1}, x^{2}, x^{3})\\
   x^{2} \longrightarrow \tilde{x}^{2} & = f^{2}(x^{0}, x^{1}, x^{2}, x^{3}) = \tilde{x}^{2}(x^{0}, x^{1}, x^{2}, x^{3})\\
   x^{3} \longrightarrow \tilde{x}^{3} & = f^{3}(x^{0}, x^{1}, x^{2}, x^{3}) = \tilde{x}^{3}(x^{0}, x^{1}, x^{2}, x^{3})\\
   \end{align}


分かりやすくなるかと思って各成分を書いてみたが、思いの外見づらくなってしまった。
真ん中の項では「 :math:`(x^{0}, x^{1}, x^{2}, x^{3})` の関数（function）ですよ」ということを明示していて、１番右側の項で「これからは :math:`f^{\mu}` を :math:`\tilde{x}^{\mu}` と書くことにします」という気持ち。


ここで、ローレンツ変換は以下の形をしていたが、

.. math::
   :nowrap:

   \begin{align}
   x^{\mu} \longrightarrow x'^{\mu}
   & = L^{\mu}_{\nu} x^{\nu}
   \end{align}

同じように各成分を書いてみると、以下のように書ける。

.. math::
   :nowrap:

   \begin{align}
   x^{0} \longrightarrow x'^{0} & = f^{0}(x^{0}, x^{1}, x^{2}, x^{3}) = L^{0}(x^{0}, x^{1}, x^{2}, x^{3})\\
   x^{1} \longrightarrow x'^{1} & = f^{1}(x^{0}, x^{1}, x^{2}, x^{3}) = L^{1}(x^{0}, x^{1}, x^{2}, x^{3})\\
   x^{2} \longrightarrow x'^{2} & = f^{2}(x^{0}, x^{1}, x^{2}, x^{3}) = L^{2}(x^{0}, x^{1}, x^{2}, x^{3})\\
   x^{3} \longrightarrow x'^{3} & = f^{3}(x^{0}, x^{1}, x^{2}, x^{3}) = L^{3}(x^{0}, x^{1}, x^{2}, x^{3})\\
   \end{align}

まぁ、ローレンツ変換の場合、各成分の形は決まっているので、こういう風に抽象化して書くよりも、具体的に書いた方が分かりやすいと思う。

ただ、遠目に眺めると、両者の形が似ているのが分かる。
「 :math:`'` （ダッシュ／プライム）」が「 :math:`\tilde{ }` （チルダ）」になって、「 :math:`L` 」が「 :math:`\tilde{x}` 」になってるだけ。
なので、以降もローレンツ変換でやったことを思い出しながら読み進めればよい。

ローレンツ変換との違いは、一般座標変換の各成分が元の時空の関数になっている点なので、次にやる微小変分を求める際の微分で注意が必要。


微小変分
==================================================

一般座標変換した時の微小変分がどうなるかを求める。
前節で比較したことと踏まえて、ローレンツ変換の時と同じように、以下のように記述できたらいいのだが、

.. math::
   :nowrap:

   \begin{align}
   \mathrm{d}x \longrightarrow \mathrm{d}x' &= L dx\\
   \mathrm{d}x \longrightarrow \mathrm{d}\tilde{x} &= \tilde{x} dx\\
   \end{align}

ここで、:math:`\tilde{x}` が :math:`(x^{0}, x^{1}, x^{2}, x^{3})` の関数であることが効いてくる。
つまり、上の計算はダメ。

それをに気をつけると **全微分のルール** に沿って微分を計算することになる。
ちなみに、数式中の **微分（differential）のd** はローマン体で書くことが多い（決まりなのかな？LaTeXだとすごくめんどくさい・・・）。

全微分のルールにしたがって書き下すと次のようになる。

.. math::
   :nowrap:

   \begin{align}
   \mathrm{d} \tilde{x}^{\mu}
   & = \frac{\partial f^{\mu}}{\partial x^{0}} \mathrm{d} x^{0}
   + \frac{\partial f^{\mu}}{\partial x^{1}} \mathrm{d} x^{1}
   + \frac{\partial f^{\mu}}{\partial x^{2}} \mathrm{d} x^{2}
   + \frac{\partial f^{\mu}}{\partial x^{3}} \mathrm{d} x^{3}
   \quad \left( = \sum^{3}_{\nu = 0} \frac{\partial f^{\mu}}{\partial x^{\nu}} \mathrm{d} x^{\nu} \right)\\
   & = \frac{\partial \tilde{x}^{\mu}}{\partial x^{0}} \mathrm{d} x^{0}
   + \frac{\partial \tilde{x}^{\mu}}{\partial x^{1}} \mathrm{d} x^{1}
   + \frac{\partial \tilde{x}^{\mu}}{\partial x^{2}} \mathrm{d} x^{2}
   + \frac{\partial \tilde{x}^{\mu}}{\partial x^{3}} \mathrm{d} x^{3}
   \quad \left( = \sum^{3}_{\nu = 0} \frac{\partial \tilde{x}^{\mu}}{\partial x^{\nu}} \mathrm{d} x^{\nu} \right)
   \end{align}

これを **アインシュタインの規約** を使って書くと、次のようになる。

.. math::
   :nowrap:

   \begin{align}
   \mathrm{d} x^{\mu} \longrightarrow \mathrm{d} \tilde{x}^{\mu}
   & = \frac{\partial \tilde{x}^{\mu}}{\partial x^{\nu}} \mathrm{d} x^{\nu}
   \end{align}


これも、微小変化分に対するローレンツ変換と形は似ている。

.. math::
   :nowrap:

   \begin{align}
   \mathrm{d} x^{\mu} \longrightarrow
   \mathrm{d} x'^{\mu} & = L^{\mu}_{\nu} \mathrm{d} x^{\nu}
   \end{align}



微分演算子
==================================================

ついでに、微分演算子の変換も書いておく。

.. math::
   :nowrap:

   \begin{align}
   \frac{ \partial }{ \partial x^{\mu} } \longrightarrow
   \frac{ \partial }{ \partial \tilde{x}^{\mu} }
   & = \frac{ \partial x^{\nu} }{ \partial \tilde{x}^{\mu} } \frac{ \partial }{ \partial x^{\nu} }
   \end{align}
